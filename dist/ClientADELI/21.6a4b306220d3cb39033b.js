(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"2bGQ":function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),o=function(){return function(){}}(),t=u("pMnS"),i=u("gIcY"),s=u("Ip0R"),r=function(){return function(l,n){this.username=l,this.password=n}}(),d=u("PSD3"),a=u.n(d),c=function(){function l(l,n,u,e){this.authService=l,this.tokenStorage=n,this.fb=u,this.router=e,this.form={},this.isLoggedIn=!1,this.isLoginFailed=!1,this.errorMessage="",this.roles=[],this.credentials={username:"",password:""}}return l.prototype.ngOnInit=function(){localStorage.getItem("authToken")&&this.router.navigateByUrl("/dashboard"),this.loginForm=this.fb.group({username:["",[i.s.minLength(3),i.s.required]],password:["",[i.s.minLength(6),i.s.required]]}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roles=this.tokenStorage.getAuthorities())},l.prototype.onSubmits=function(){var l=this;console.log(this.form),console.log(this.loginForm),this.loginInfo=new r(this.loginForm.controls.username.value,this.loginForm.controls.password.value),this.authService.attemptAuth(this.loginInfo).subscribe((function(n){l.tokenStorage.saveToken(n.accessToken),l.tokenStorage.saveUsername(n.username),l.tokenStorage.saveAuthorities(n.authorities),l.isLoginFailed=!1,l.isLoggedIn=!0,l.roles=l.tokenStorage.getAuthorities(),l.reloadPage(),a.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,onOpen:function(l){l.addEventListener("mouseenter",a.a.stopTimer),l.addEventListener("mouseleave",a.a.resumeTimer)}}).fire({icon:"success",title:n.username,text:"connecté !"})}),(function(n){console.log(n),l.errorMessage=n.error.message,l.isLoginFailed=!0,a.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,background:"#f7d3dc",timer:1e4,timerProgressBar:!0,onOpen:function(l){l.addEventListener("mouseenter",a.a.stopTimer),l.addEventListener("mouseleave",a.a.resumeTimer)}}).fire({icon:"error",text:n.error.message,title:"Echec de connexion"})}))},l.prototype.reloadPage=function(){this.router.navigateByUrl("/dashboard")},l}(),g=u("qXBG"),m=u("dZLz"),p=u("ZYCi"),v=e["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function f(l){return e["ɵvid"](0,[(l()(),e["ɵeld"](0,0,null,null,3,"div",[["style","color: #f65656"]],null,null,null,null,null)),(l()(),e["ɵeld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["*"])),(l()(),e["ɵted"](-1,null,[" au moins 3 caractères requis "]))],null,null)}function h(l){return e["ɵvid"](0,[(l()(),e["ɵeld"](0,0,null,null,3,"div",[["style","color: #f65656"]],null,null,null,null,null)),(l()(),e["ɵeld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["*"])),(l()(),e["ɵted"](-1,null,[" le mot de passe doit comporter au moins 6 caractères "]))],null,null)}function C(l){return e["ɵvid"](0,[(l()(),e["ɵeld"](0,0,null,null,1,"a",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e["ɵted"](1,null,[" Echec de connexion: "," "]))],null,(function(l,n){l(n,1,0,n.component.errorMessage)}))}function b(l){return e["ɵvid"](0,[(l()(),e["ɵeld"](0,0,null,null,64,"div",[["class","h-100"]],null,null,null,null,null)),(l()(),e["ɵeld"](1,0,null,null,63,"div",[["class","h-100 no-gutters row"]],null,null,null,null,null)),(l()(),e["ɵeld"](2,0,null,null,14,"div",[["class","d-none d-lg-block col-lg-4"]],null,null,null,null,null)),(l()(),e["ɵeld"](3,0,null,null,13,"div",[["class","slider-light"]],null,null,null,null,null)),(l()(),e["ɵeld"](4,0,null,null,12,"div",[["class","slick-slider"]],null,null,null,null,null)),(l()(),e["ɵeld"](5,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e["ɵeld"](6,0,null,null,10,"div",[["class","position-relative h-100 d-flex justify-content-center align-items-center bg-plum-plate"],["tabindex","-1"]],null,null,null,null,null)),(l()(),e["ɵeld"](7,0,null,null,0,"div",[["class","slide-img-bg"],["style","background-image: url('./assets/images/originals/wood1.jpg');"]],null,null,null,null,null)),(l()(),e["ɵeld"](8,0,null,null,8,"div",[["class","slider-content"]],null,null,null,null,null)),(l()(),e["ɵeld"](9,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["ADELI"])),(l()(),e["ɵeld"](11,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["Copyright © ACON NKAP 2021, "])),(l()(),e["ɵeld"](13,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["Conçu par "])),(l()(),e["ɵeld"](15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["ING. Casimir OUANDJI "])),(l()(),e["ɵeld"](17,0,null,null,47,"div",[["class","h-100 d-flex bg-white justify-content-center align-items-center col-md-12 col-lg-8"]],null,null,null,null,null)),(l()(),e["ɵeld"](18,0,null,null,46,"div",[["class","mx-auto app-login-box col-sm-12 col-md-10 col-lg-9"]],null,null,null,null,null)),(l()(),e["ɵeld"](19,0,null,null,0,"div",[["class","app-logo"],["style","background-image: url('./assets/images/Adel.png')"]],null,null,null,null,null)),(l()(),e["ɵeld"](20,0,null,null,4,"h4",[["class","mb-0"]],null,null,null,null,null)),(l()(),e["ɵeld"](21,0,null,null,1,"span",[["class","d-block"]],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["AUTHENTIFICATION,"])),(l()(),e["ɵeld"](23,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["Connectez-vous à votre compte."])),(l()(),e["ɵeld"](25,0,null,null,0,"div",[["class","divider row"]],null,null,null,null,null)),(l()(),e["ɵeld"](26,0,null,null,38,"div",[],null,null,null,null,null)),(l()(),e["ɵeld"](27,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var o=!0;return"submit"===n&&(o=!1!==e["ɵnov"](l,29).onSubmit(u)&&o),"reset"===n&&(o=!1!==e["ɵnov"](l,29).onReset()&&o),o}),null,null)),e["ɵdid"](28,16384,null,0,i.x,[],null,null),e["ɵdid"](29,540672,null,0,i.g,[[8,null],[8,null]],{form:[0,"form"]},null),e["ɵprd"](2048,null,i.c,null,[i.g]),e["ɵdid"](31,16384,null,0,i.m,[[4,i.c]],null,null),(l()(),e["ɵeld"](32,0,null,null,24,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e["ɵeld"](33,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["ɵeld"](34,0,null,null,8,"div",[["class","position-relative form-group"]],null,null,null,null,null)),(l()(),e["ɵeld"](35,0,null,null,1,"label",[["class",""],["for","exampleEmail"]],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["Username"])),(l()(),e["ɵeld"](37,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["id","exampleEmail"],["placeholder","example@alpiwood.com"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var o=!0,t=l.component;return"input"===n&&(o=!1!==e["ɵnov"](l,38)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==e["ɵnov"](l,38).onTouched()&&o),"compositionstart"===n&&(o=!1!==e["ɵnov"](l,38)._compositionStart()&&o),"compositionend"===n&&(o=!1!==e["ɵnov"](l,38)._compositionEnd(u.target.value)&&o),"ngModelChange"===n&&(o=!1!==(t.credentials.username=u)&&o),o}),null,null)),e["ɵdid"](38,16384,null,0,i.d,[e.Renderer2,e.ElementRef,[2,i.a]],null,null),e["ɵprd"](1024,null,i.j,(function(l){return[l]}),[i.d]),e["ɵdid"](40,671744,null,0,i.f,[[3,i.c],[8,null],[8,null],[6,i.j],[2,i.v]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["ɵprd"](2048,null,i.k,null,[i.f]),e["ɵdid"](42,16384,null,0,i.l,[[4,i.k]],null,null),(l()(),e["ɵand"](16777216,null,null,1,null,f)),e["ɵdid"](44,16384,null,0,s.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["ɵeld"](45,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e["ɵeld"](46,0,null,null,8,"div",[["class","position-relative form-group"]],null,null,null,null,null)),(l()(),e["ɵeld"](47,0,null,null,1,"label",[["class",""],["for","examplePassword"]],null,null,null,null,null)),(l()(),e["ɵted"](-1,null,["Password"])),(l()(),e["ɵeld"](49,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["id","examplePassword"],["placeholder","*****"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var o=!0,t=l.component;return"input"===n&&(o=!1!==e["ɵnov"](l,50)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==e["ɵnov"](l,50).onTouched()&&o),"compositionstart"===n&&(o=!1!==e["ɵnov"](l,50)._compositionStart()&&o),"compositionend"===n&&(o=!1!==e["ɵnov"](l,50)._compositionEnd(u.target.value)&&o),"ngModelChange"===n&&(o=!1!==(t.credentials.password=u)&&o),o}),null,null)),e["ɵdid"](50,16384,null,0,i.d,[e.Renderer2,e.ElementRef,[2,i.a]],null,null),e["ɵprd"](1024,null,i.j,(function(l){return[l]}),[i.d]),e["ɵdid"](52,671744,null,0,i.f,[[3,i.c],[8,null],[8,null],[6,i.j],[2,i.v]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["ɵprd"](2048,null,i.k,null,[i.f]),e["ɵdid"](54,16384,null,0,i.l,[[4,i.k]],null,null),(l()(),e["ɵand"](16777216,null,null,1,null,h)),e["ɵdid"](56,16384,null,0,s.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["ɵeld"](57,0,null,null,0,"div",[["class","position-relative form-check"]],null,null,null,null,null)),(l()(),e["ɵeld"](58,0,null,null,0,"div",[["class","divider row"]],null,null,null,null,null)),(l()(),e["ɵeld"](59,0,null,null,5,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(l()(),e["ɵeld"](60,0,null,null,4,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),e["ɵand"](16777216,null,null,1,null,C)),e["ɵdid"](62,16384,null,0,s.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["ɵeld"](63,0,null,null,1,"button",[["class","btn btn-primary btn-lg"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onSubmits()&&e),e}),null,null)),(l()(),e["ɵted"](-1,null,["Connexion"]))],(function(l,n){var u=n.component;l(n,29,0,u.loginForm),l(n,40,0,"username",u.credentials.username),l(n,44,0,u.loginForm.controls.username.invalid&&u.loginForm.controls.username.touched),l(n,52,0,"password",u.credentials.password),l(n,56,0,u.loginForm.controls.password.invalid&&u.loginForm.controls.password.touched),l(n,62,0,u.loginForm.valid&&u.isLoginFailed)}),(function(l,n){var u=n.component;l(n,27,0,e["ɵnov"](n,31).ngClassUntouched,e["ɵnov"](n,31).ngClassTouched,e["ɵnov"](n,31).ngClassPristine,e["ɵnov"](n,31).ngClassDirty,e["ɵnov"](n,31).ngClassValid,e["ɵnov"](n,31).ngClassInvalid,e["ɵnov"](n,31).ngClassPending),l(n,37,0,e["ɵnov"](n,42).ngClassUntouched,e["ɵnov"](n,42).ngClassTouched,e["ɵnov"](n,42).ngClassPristine,e["ɵnov"](n,42).ngClassDirty,e["ɵnov"](n,42).ngClassValid,e["ɵnov"](n,42).ngClassInvalid,e["ɵnov"](n,42).ngClassPending),l(n,49,0,e["ɵnov"](n,54).ngClassUntouched,e["ɵnov"](n,54).ngClassTouched,e["ɵnov"](n,54).ngClassPristine,e["ɵnov"](n,54).ngClassDirty,e["ɵnov"](n,54).ngClassValid,e["ɵnov"](n,54).ngClassInvalid,e["ɵnov"](n,54).ngClassPending),l(n,63,0,u.loginForm.invalid)}))}function w(l){return e["ɵvid"](0,[(l()(),e["ɵeld"](0,0,null,null,1,"app-login",[],null,null,null,b,v)),e["ɵdid"](1,114688,null,0,c,[g.a,m.a,i.e,p.o],null,null)],(function(l,n){l(n,1,0)}),null)}var I=e["ɵccf"]("app-login",c,w,{},{},[]),k=function(){return function(){}}();u.d(n,"LoginModuleNgFactory",(function(){return y}));var y=e["ɵcmf"](o,[],(function(l){return e["ɵmod"]([e["ɵmpd"](512,e.ComponentFactoryResolver,e["ɵCodegenComponentFactoryResolver"],[[8,[t.a,I]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["ɵmpd"](4608,s.p,s.o,[e.LOCALE_ID,[2,s.G]]),e["ɵmpd"](4608,i.e,i.e,[]),e["ɵmpd"](4608,i.u,i.u,[]),e["ɵmpd"](1073742336,s.c,s.c,[]),e["ɵmpd"](1073742336,p.s,p.s,[[2,p.x],[2,p.o]]),e["ɵmpd"](1073742336,k,k,[]),e["ɵmpd"](1073742336,i.t,i.t,[]),e["ɵmpd"](1073742336,i.q,i.q,[]),e["ɵmpd"](1073742336,i.h,i.h,[]),e["ɵmpd"](1073742336,o,o,[]),e["ɵmpd"](1024,p.m,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);